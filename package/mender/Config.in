config BR2_PACKAGE_MENDER
	bool "mender"
	depends on BR2_PACKAGE_HOST_GO_ARCH_SUPPORTS
	depends on BR2_PACKAGE_HOST_GO_CGO_LINKING_SUPPORTS
	depends on BR2_TOOLCHAIN_HAS_THREADS
	depends on BR2_PACKAGE_UBOOT_TOOLS
	depends on BR2_PACKAGE_UBOOT_TOOLS_FWPRINTENV
	select BR2_PACKAGE_CA_CERTIFICATES
	help
	  Mender is an open source over-the-air (OTA) software updater
	  for embedded Linux devices. Mender comprises a client
	  running at the embedded device, as well as a server that
	  manages deployments across many devices.

	  https://github.com/mendersoftware/mender

if BR2_PACKAGE_MENDER

config BR2_PACKAGE_MENDER_ARTIFACT_NAME
	string "Mender artifact name"
	help
	  The name of the image or update that will be built. This is what the
	  device will report that it is running, and different updates must have
	  different names.

	  Will be stored in /etc/mender/artifact_info

config BR2_PACKAGE_MENDER_DEVICE_TYPE
	string "Mender device type"
	help
	  A string that defines the type of device which will be used to check
	  compatibility of update artifacts. Once a device is flashed with this,
	  it will not change, even if the device is updated using Mender.

	  Will be stored in /data/mender/device_type. Note that /data is a mount
	  point for the persistent data partition.

config BR2_PACKAGE_MENDER_INVENTORY_POLL_INTERVAL_SEC
	int "Inventory poll interval"
	default 1800
	help
	  An integer that sets the number of seconds to wait between each inventory
	  poll to the Mender server.

	  https://docs.mender.io/client-configuration/configuration-file/polling-intervals

config BR2_PACKAGE_MENDER_UPDATE_POLL_INTERVAL_SEC
	int "Update poll interval"
	default 1800
	help
	  An integer that sets the number of seconds to wait between each check for
	  a new update. Note that the client may occasionally check more often if
	  there has been recent activity on the device

	  https://docs.mender.io/client-configuration/configuration-file/polling-intervals

config BR2_PACKAGE_MENDER_RETRY_POLL_INTERVAL_SEC
	int "Retry poll interval"
	default 300
	help
	  An integer that sets the number of seconds to wait between each attempt
	  to download an update file. Note that the client may attempt more often
	  initially to enable rapid upgrades, but will gradually fall back to this
	  value if the server is busy.

	  https://docs.mender.io/client-configuration/configuration-file/polling-intervals

config BR2_PACKAGE_MENDER_SERVER_URL
	string "Server URL"
	default "https://docker.mender.io"
	help
	  The server URL which is used as the basis for API requests. This should
	  be set to the server that runs the Mender server services. It should
	  include the whole URL, including https:// and a trailing slash.

	  The default points to the Mender demo server setup,
	  https://docs.mender.io/1.5/getting-started/create-a-test-environment

config BR2_PACKAGE_MENDER_TENANT_TOKEN
	string "Hosted Mender tenant token"
	default "dummy"
	help
	  A token which identifies which tenant a device belongs to. This is only
	  relevant if using Hosted Mender.

config BR2_PACKAGE_MENDER_SERVER_CRT
	string "Public certificate of the Mender server"
	default "/etc/mender/server.crt"
	help
	  The location of the public certificate of the server, if any. If this
	  certificate is missing, or the one presented by the server doesn't match
	  the one specified in this setting, the server certificate will be
	  validated using standard certificate trust chains

config BR2_PACKAGE_MENDER_ROOTFS_PART_A
	string "Root filesystem A device"
	default "mmcblk0p2"
	help
	  The Linux device that contains root filesystem A.

config BR2_PACKAGE_MENDER_ROOTFS_PART_B
	string "Root filesystem B device"
	default "mmcblk0p3"
	help
	  The Linux device that contains root filesystem B.

endif

comment "mender needs a toolchain w/ threads"
	depends on BR2_PACKAGE_HOST_GO_ARCH_SUPPORTS
	depends on BR2_PACKAGE_HOST_GO_CGO_LINKING_SUPPORTS
	depends on !BR2_TOOLCHAIN_HAS_THREADS
